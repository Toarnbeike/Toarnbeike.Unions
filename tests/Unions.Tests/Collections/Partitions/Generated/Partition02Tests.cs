# nullable enable

// <auto-generated>
//   This file was generated by Toarnbeike.Unions.Tests.StaticGenerator.
//   Generator: PartitionExtensionsTestsGenerator (v. 0.9.0)
//   Created: 2025-12-16 20:50:23Z
//   These test are auto-generated. Do not modify.
// </auto-generated>

using Toarnbeike.Unions.Collections;
using Toarnbeike.Unions.Tests.Unions.TestTypes;

namespace Toarnbeike.Unions.Tests.Collections.Partitions.Generated;

public class Partition02Tests
{
    
    [Test]
    public void SelectT1_Should_Return_OnlyT1Values()
    {
        var source = CreateMixedCollection();

        var t1Values = source.SelectT1().ToList();

        t1Values.Count.ShouldBe(2);
        t1Values[0].Value.ShouldBe(1);
        t1Values[1].Value.ShouldBe(2);
    }

    [Test]
    public void SelectT1_Should_ReturnEmptyCollection_WhenNoT1Values()
    {
        var source = CreateU2Collection();
        var t1Values = source.SelectT1().ToList();
        
        t1Values.ShouldBeEmpty();
    }
    
    [Test]
    public void SelectT2_Should_Return_OnlyT2Values()
    {
        var source = CreateMixedCollection();

        var t2Values = source.SelectT2().ToList();

        t2Values.Count.ShouldBe(2);
        t2Values[0].Value.ShouldBe(2);
        t2Values[1].Value.ShouldBe(3);
    }

    [Test]
    public void SelectT2_Should_ReturnEmptyCollection_WhenNoT2Values()
    {
        var source = CreateU1Collection();
        var t2Values = source.SelectT2().ToList();
        
        t2Values.ShouldBeEmpty();
    }
    
    [Test]
    public void Partition_Should_SplitMixedCollection()
    {
        var source = CreateMixedCollection();

        var (t1Values, t2Values) = source.Partition();

        t1Values.Count.ShouldBe(2);
        t2Values.Count.ShouldBe(2);
    }

    [Test]
    public void Partition_Should_ReturnEmptyCollections_WhenNoValues()
    {
        var source = Enumerable.Empty<Union<U1,U2>>();

        var (t1Values, t2Values) = source.Partition();

        t1Values.ShouldBeEmpty();
        t2Values.ShouldBeEmpty();
    }

    private IEnumerable<Union<U1,U2>> CreateMixedCollection()
    {
        yield return Union<U1,U2>.FromT1(new U1(1));
        yield return Union<U1,U2>.FromT1(new U1(2));
        yield return Union<U1,U2>.FromT2(new U2(2));
        yield return Union<U1,U2>.FromT2(new U2(3));
    }
        
    private IEnumerable<Union<U1,U2>> CreateU1Collection()
    {
        yield return Union<U1,U2>.FromT1(new U1(1));
        yield return Union<U1,U2>.FromT1(new U1(2));
        yield return Union<U1,U2>.FromT1(new U1(3));
    }
    
    private IEnumerable<Union<U1,U2>> CreateU2Collection()
    {
        yield return Union<U1,U2>.FromT2(new U2(1));
        yield return Union<U1,U2>.FromT2(new U2(2));
        yield return Union<U1,U2>.FromT2(new U2(3));
    }
}