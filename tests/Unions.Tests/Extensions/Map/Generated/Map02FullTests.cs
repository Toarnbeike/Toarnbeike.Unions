# nullable enable

// <auto-generated>
//   This file was generated by Toarnbeike.Unions.Tests.StaticGenerator.
//   Generator: MapFullExtensionsTestsGenerator (v. 1.1.0)
//   Created: 2025-12-19 09:52:56Z
//   These test are auto-generated. Do not modify.
// </auto-generated>

using Toarnbeike.Unions.Extensions;
using Toarnbeike.Unions.TestExtensions;
using Toarnbeike.Unions.Tests.Unions.TestTypes;
// Resharper disable UnusedParameter.Local

namespace Toarnbeike.Unions.Tests.Extensions.Map.Generated;

public class Map02FullTests
{
    private static Union<U1,U2> MakeT1(int v) => Union<U1,U2>.FromT1(new U1(v));
    private static Union<U1,U2> MakeT2(int v) => Union<U1,U2>.FromT2(new U2(v));

    private static T ShouldNotBeCalled<T>(T original) => throw new ShouldNotBeCalledException();
    private static Task<T> ShouldNotBeCalledAsync<T>(T original) => throw new ShouldNotBeCalledException();

    [Test]
    public void Map_Should_InvokeT1Mapper()
    {
        var union = MakeT1(1);
        var result = union.Map(
            u1 => new U1(u1.Value + 10),
            u2 => ShouldNotBeCalled(u2)
        );
        
        result.ShouldBeT1().Value.ShouldBe(11);
    }
    
    [Test]
    public void Map_Throws_WhenT1_Mapper_ReturnsNull()
    {
        var union = MakeT1(1);
        
        Should.Throw<ArgumentNullException>(() => union.Map(
            null!,
            u2 => ShouldNotBeCalled(u2)
        ));
    }   

    [Test]
    public void Map_Should_InvokeT2Mapper()
    {
        var union = MakeT2(2);
        var result = union.Map(
            u1 => ShouldNotBeCalled(u1),
            u2 => new U2(u2.Value + 10)
        );
        
        result.ShouldBeT2().Value.ShouldBe(12);
    }
    
    [Test]
    public void Map_Throws_WhenT2_Mapper_ReturnsNull()
    {
        var union = MakeT2(2);
        
        Should.Throw<ArgumentNullException>(() => union.Map(
            u1 => ShouldNotBeCalled(u1),
            null!
        ));
    }   

    [Test]
    public async Task MapAsync_Should_InvokeT1Mapper()
    {
        var union = MakeT1(1);
        var result = await union.MapAsync(
            u1 => Task.FromResult(new U1(u1.Value + 10)),
            u2 => ShouldNotBeCalledAsync(u2)
        );
        
        result.ShouldBeT1().Value.ShouldBe(11);
    }
    
    [Test]
    public async Task MapAsync_Throws_WhenT1_Mapper_ReturnsNull()
    {
        var union = MakeT1(1);
        
        await Should.ThrowAsync<ArgumentNullException>(() => union.MapAsync(
            null!,
            u2 => ShouldNotBeCalledAsync(u2)
        ));
    }   

    [Test]
    public async Task MapAsync_Should_InvokeT2Mapper()
    {
        var union = MakeT2(2);
        var result = await union.MapAsync(
            u1 => ShouldNotBeCalledAsync(u1),
            u2 => Task.FromResult(new U2(u2.Value + 10))
        );
        
        result.ShouldBeT2().Value.ShouldBe(12);
    }
    
    [Test]
    public async Task MapAsync_Throws_WhenT2_Mapper_ReturnsNull()
    {
        var union = MakeT2(2);
        
        await Should.ThrowAsync<ArgumentNullException>(() => union.MapAsync(
            u1 => ShouldNotBeCalledAsync(u1),
            null!
        ));
    }   

    [Test]
    public async Task TaskMap_Should_InvokeT1Mapper()
    {
        var task = Task.FromResult(MakeT1(1));
        
        var result = await task.Map(
            u1 => new U1(u1.Value + 10),
            u2 => ShouldNotBeCalled(u2)
        );
        
        result.ShouldBeT1().Value.ShouldBe(11);
    }

    [Test]
    public async Task TaskMap_Should_InvokeT2Mapper()
    {
        var task = Task.FromResult(MakeT2(2));
        
        var result = await task.Map(
            u1 => ShouldNotBeCalled(u1),
            u2 => new U2(u2.Value + 10)
        );
        
        result.ShouldBeT2().Value.ShouldBe(12);
    }

    [Test]
    public async Task TaskMapAsync_Should_InvokeT1Mapper()
    {
        var task = Task.FromResult(MakeT1(1));

        var result = await task.MapAsync(
            u1 => Task.FromResult(new U1(u1.Value + 10)),
            u2 => ShouldNotBeCalledAsync(u2)
        );
        
        result.ShouldBeT1().Value.ShouldBe(11);
    }

    [Test]
    public async Task TaskMapAsync_Should_InvokeT2Mapper()
    {
        var task = Task.FromResult(MakeT2(2));

        var result = await task.MapAsync(
            u1 => ShouldNotBeCalledAsync(u1),
            u2 => Task.FromResult(new U2(u2.Value + 10))
        );
        
        result.ShouldBeT2().Value.ShouldBe(12);
    }
}